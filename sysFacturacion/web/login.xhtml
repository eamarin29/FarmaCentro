<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Login - Sistema de Facturación Web  #{usuarioBean.nombreApp()} </title>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="keywords" content="Proficient Login Form Responsive, Login form web template,Flat Pricing tables,Flat Drop downs  Sign up Web Templates, Flat Web Templates, Login signup Responsive web template, Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
        <script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
        <link href="//fonts.googleapis.com/css?family=Poiret+One" rel="stylesheet"/>
        <link href="//fonts.googleapis.com/css?family=Raleway:100,200,300,400,500,600,700,800,900" rel="stylesheet"/>
        <h:outputStylesheet library="css" name="font-awesome.min.css"  />
        <!--estilos -->
        <h:outputStylesheet library="css" name="estilosLogin.css"  />
        <link rel="icon" type="image/gif" href="resources/images/favicon.ico" /> 
    </h:head>
    <f:metadata>
        <f:viewParam name="par" value="#{usuarioBean.cambioContrasena}"/>
    </f:metadata>
    <body>
        <div class="overlay">
            <br></br>
            <div class="content-w3ls">
                <h1 class="tituloLogin"> #{usuarioBean.nombreApp()}</h1>
                <br></br>
                <img src="resources/images/login.jpg" alt="" class="user-wthree"/>
                <h:form id="frmLogin">
                    <p:focus id="focus" context="frmLogin"/>
                    <p:growl id="growl"  sticky="true" showDetail="true" life="3000" />
                    <div class="form-group1-agile">
                        <p:inputText id="username" value="#{usuarioBean.username}" styleClass="txt" placeholder="Usuario" />
                    </div>
                    <div class="form-group2-agile">
                        <p:password id="password" value="#{usuarioBean.password}" styleClass="pass" placeholder="Contraseña"/>	
                    </div>
                    <p:commandButton binding="#{usuarioBean.btnLogin}" value="Entrar" update="frmLogin" action="#{usuarioBean.login()}" styleClass="btn"/>
                    <div class="form-group3-agile wthree">
                        <br></br>
                        <p:commandLink update="frmLogin" action="#{usuarioBean.olvideContrasena}" style="color: white;"> Olvidé mi Contraseña</p:commandLink>
                        <br></br>
                        <br></br>
                        <p:commandLink update="frmLogin" action="#{usuarioBean.solicitarRegistro()}" style="color: white;"> Solicitar registro</p:commandLink>
                    </div>
                </h:form>
                <div class="footer-w3ls">
                    <p>© #{usuarioBean.añoActual()}  #{usuarioBean.nombreApp()}. Todos los derechos reservados <br></br> Design by <a href="https://www.facebook.com/EduarAlexanderMarin" target="_blank">Eduar Alexander</a></p>
                </div>	
            </div>
        </div>
        <script src="resources/js/modernizr.min.js"></script>
        <script type="text/javascript">
            function handleLoginRequest(xhr, status, args) {
                if (args.validationFailed || !args.loggedIn) {
                    jQuery('#frmLogin').effect('shake', {times: 3}, 350);
                } else {
                    location.href = args.ruta;
                }
            }
        </script>
    </body>
</html>